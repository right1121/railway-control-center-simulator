---
name: make-plan-doc
description: 実装計画を立ててplan.mdを作成するタイミングで利用してください
---

plan.mdを作成する際は、以下のテンプレートに従って作成をしてください

```markdown
<!-- issync:v1:start -->
<!-- Template Version: 18 (2025-11-08) -->

# [Project Name] Progress Document

この実行計画は生きたドキュメントです。新しい情報が出るたびに各セクションを更新してください。各セクションは、事前知識のない初めての貢献者へのガイダンスとして扱ってください。

<!--
このテンプレートは矛盾解消駆動開発ワークフローの6ステート設計に最適化されています：
- **plan**: 進捗ドキュメントのセットアップ
- **poc**: 技術検証のための実装
- **architecture-decision**: アーキテクチャ・設計方針の決定
- **implement**: 本実装・CI/CD・レビュー
- **retrospective**: 振り返りと知見の記録
- **done**: タスク完了

各ステートは GitHub Projects の **Stage** フィールドで進行状況を管理します：
- **To Start**: 人間が作業を開始する必要がある（AIに指示、設定など）
- **In Progress**: AI/自動処理が実行中、人間は待機
- **To Review**: 作業完了、人間がレビュー・承認・次ステート遷移判断が必要
-->

<!--
## 🚨 このドキュメントの更新ガイドライン（必読）

**基本原則:**
- **簡潔さ重視**: 各セクションは必要最小限の情報のみを記載
- **段階的更新**: 変更が必要な部分のみを更新し、複数セクションの大幅な書き換えは避ける
- **冗長性の排除**: 重複する説明や過度な詳細化を避ける

**✅ DO（推奨）:**
- 特定のセクションのみを対象とした、必要最小限の変更
- 既存の簡潔な表現をそのまま維持
- 箇条書き形式での簡潔な記述
- 新たな発見や決定事項を追加する場合は、そのセクションのみを更新

**❌ DON'T（禁止）:**
- 複数セクションを同時に大幅書き換え
- 既存の簡潔な表現を冗長な文章に置き換える
- 不要な説明や背景情報を追加
- 既に記載されている情報を別の表現で繰り返す
- セクション全体を一から書き直す（修正が必要な箇所のみを更新すること）
-->

---

## Purpose / Overview

<!--
📝 Guidance for AI
記入タイミング: plan
記入内容: タスクの目的、解決する問題、コアバリューを明確に定義。AIエージェントがこのタスクの方向性を理解するための最重要セクション
-->

[プロジェクトの目的、解決する問題、コアバリューを記述]

**コアバリュー:**
- [バリュー1]
- [バリュー2]

---

## Context & Direction

<!--
📝 Guidance for AI
記入タイミング: plan
記入内容: 問題の背景、設計哲学を記述。コードベース調査や既存ドキュメント確認の結果を反映
-->

**問題のコンテキスト:**
[このプロジェクトが解決しようとしている問題の背景]

**設計哲学:**
- **[哲学のタイトル]**: [説明]

---

## Validation & Acceptance Criteria

<!--
📝 Guidance for AI
記入タイミング: planで初期記入 → architecture-decisionで妥当性検証・更新
記入内容: テスト可能な受け入れ基準を定義。POC後に実現可能性を確認し、必要に応じて調整

**重要: テスト要件を含めること**
- コードベース調査で確認したプロジェクトのテスト戦略に基づき、自動テストで検証可能な基準を記述
- ロジック変更: 単体テストでカバーすべき内容を明記
- UI変更: UIコンポーネントの視覚的検証方法を明記
- E2E要件: エンドツーエンドシナリオで検証すべき内容を明記
- 使用するテストフレームワークやツールは、コードベース調査で発見した実際のツール名を使用すること
-->

**受け入れ基準:**
- [基準]

**テストシナリオ:**
- [シナリオ]

---

## Specification / 仕様

<!--
📝 Guidance for AI
記入タイミング: architecture-decision
記入内容: POCの知見を基にシステム仕様、アーキテクチャ、設計方針を具体化
-->

[システムの仕様、アーキテクチャ、設計方針を記述]

### [仕様項目1]

[説明]

### [仕様項目2]

[説明]

---

## Open Questions / 残論点

<!--
📝 Guidance for AI
記入タイミング: plan/pocで記入 → 各フェーズで解決
記入内容: 未解決の重要な問い。implementまでに実装に必要な質問を全て解決。優先度が高い（先に解消すべき）問いを上に配置

推奨案の自信度レベル（推奨案のみに付与）:
- 🟢 自信度:高 - 既存パターン確認済み、実装実績あり
- 🟡 自信度:中 - 類似パターンあり、慎重に実装
- 🔴 自信度:低 - 新アプローチ/外部連携/性能影響不明 → pocフェーズで検証必須

解消方法:
- Open Questionが解決された場合、質問タイトル全体を取り消し線（~テキスト~）でマークし、「✅ 解決済み (YYYY-MM-DD)」を追加
- 採用した選択肢とその理由を簡潔に記載
- 質問全体を削除してはいけない（履歴として残す）
- Follow-up Issueに移行する場合は、その旨を明記
-->

**~Q1: [解消済みの質問タイトル]~** ✅ 解決済み (YYYY-MM-DD)

- **採用**: [採用した選択肢]
- **理由**: [採用理由の簡潔な説明]
- **実装**: [実装内容・場所]（オプション）

**Q2: [未解決の質問タイトル]**

- [質問の詳細]

**検討案:**
- **[選択肢A]（推奨 自信度:高🟢）**: [説明 + 推奨理由]
- **[選択肢B]**: [説明]
  - トレードオフ: [制約]

**Q3: [別の質問（自信度低の場合）]**

- [質問の詳細]

**検討案:**
- **[選択肢C]（推奨 自信度:低🔴）**: [説明]
  - **⚠️ PoC必須**: [検証項目]

---

## Discoveries & Insights

<!--
📝 Guidance for AI
記入タイミング: poc以降、継続的に記入
記入内容: 実装中に発見した技術的制約・複雑性・新たなタスク。失敗時は失敗原因も記録
-->

**YYYY-MM-DD: [発見のタイトル]**

- [発見内容の説明]
- [問題の詳細や影響]
- [学んだこと]

---

## Decision Log

<!--
📝 Guidance for AI
記入タイミング: architecture-decision
記入内容: POCの知見を基に技術選定、アーキテクチャ決定、トレードオフを記録
-->

**YYYY-MM-DD: [決定事項のタイトル]**

- **採用**: [選択した技術・手法]
- **理由**:
  - [理由1]
  - [理由2]
- **比較検討した候補**: [他の選択肢]
- **トレードオフ**: [この決定による制約や今後の課題]

---

## Outcomes & Retrospectives

<!--
📝 Guidance for AI
記入タイミング: retrospective
記入内容: 実装完了内容、品質改善、発見、次のステップ。プロジェクト改善提案も含む
-->

**Phase X 完了 (YYYY-MM-DD)**
- **実装完了**: [完了した機能・タスクの概要]
- **品質改善**: [実施した改善内容]
- **発見**: [フェーズ中に得られた気づき]
- **次のステップ**: [次に取り組むべきこと]

---

## Follow-up Issues / フォローアップ課題

<!--
📝 Guidance for AI
記入タイミング: Open Questions解消時、または実装中に発見した際
記入内容: 今回のスコープでは対応しないが、将来的に別issueとして扱うべき事項
-->

- **[課題タイトル]**: [簡潔な説明] (元: Open Questions Q1 / 優先度: 中)
- **[課題タイトル]**: [簡潔な説明] (元: POC中に発見 / 優先度: 高)

---

## Confidence Assessment

<!--
📝 Guidance for AI
記入タイミング: 各Phase完了時（poc完了後、architecture-decision完了後、implement完了後など）に必須更新
記入内容: プロジェクト全体の実装確信度を評価。各Phaseで前回の評価を置き換えて更新する

評価基準:
- 高🟢: 実装方針が確定し、技術的リスクが低く、スムーズな実装が見込まれる
- 中🟡: 実装方針はあるが、一部不確実性やリスクが残る
- 低🔴: 重要な技術的決定が未解決、または実装に大きなリスクがある

**重要**: この評価はプロジェクト全体の確信度を示すもので、Open Questionsセクションの推奨案自信度（未解決の問いに対する検討案の実現可能性評価）とは異なる
-->

**自信度**: [高🟢 / 中🟡 / 低🔴] - [プロジェクト全体の確信度の理由を1行で説明]
<!-- issync:v1:end -->
```